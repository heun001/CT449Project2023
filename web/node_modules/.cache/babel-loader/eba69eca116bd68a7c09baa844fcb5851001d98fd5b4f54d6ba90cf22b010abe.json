{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      \"isLoading\": false\n    };\n  },\n  methods: {\n    doLogin: async function () {\n      const self = this;\n      const form = event.target;\n      const formData = new FormData(form);\n      this.isLoading = true;\n      const response = await axios.post(this.$apiURL + \"/login\", formData);\n      if (response.data.status == \"success\") {\n        // get access token from server\n        var accessToken = response.data.accessToken;\n\n        // save in local storage\n        localStorage.setItem(this.$accessTokenKey, accessToken);\n\n        // to go to home page without refreshing\n        // this.$router.push(\"/\")\n\n        setTimeout(function () {\n          window.location.href = \"/\";\n        }, 500);\n        form.reset();\n      } else {\n        this.isLoading = false;\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","swal","data","methods","doLogin","self","form","event","target","formData","FormData","isLoading","response","post","$apiURL","status","accessToken","localStorage","setItem","$accessTokenKey","setTimeout","window","location","href","reset","fire","message"],"sources":["D:\\2023\\2023_PTUDW\\chat-station-mevn-free\\chat\\web\\src\\components\\LoginComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\" style=\"margin-top: 50px;\">\r\n        <div class=\"row\">\r\n            <div class=\"offset-md-3 col-md-6\">\r\n                <form method=\"POST\" v-on:submit.prevent=\"doLogin\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"text-white\">Enter email</label>\r\n                        <input type=\"email\" class=\"form-control\" name=\"email\" />\r\n                    </div>\r\n \r\n                    <br />\r\n \r\n                    <div class=\"form-group\">\r\n                        <label class=\"text-white\">Enter password</label>\r\n                        <input type=\"password\" class=\"form-control\" name=\"password\" />\r\n                    </div>\r\n \r\n                    <br />\r\n \r\n                    <input type=\"submit\" v-bind:value=\"isLoading ? 'Loading...' : 'Login'\" v-bind:disabled=\"isLoading\" name=\"submit\" class=\"btn btn-primary\" />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n \r\n<script>\r\n \r\n    import axios from \"axios\"\r\n    import swal from \"sweetalert2\"\r\n \r\n    export default {\r\n        data() {\r\n            return {\r\n                \"isLoading\": false\r\n            };\r\n        },\r\n \r\n        methods: {\r\n            doLogin: async function () {\r\n                const self = this\r\n                const form = event.target\r\n                const formData = new FormData(form)\r\n \r\n                this.isLoading = true;\r\n \r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/login\",\r\n                    formData\r\n                );\r\n \r\n                if (response.data.status == \"success\") {\r\n                    // get access token from server\r\n                    var accessToken = response.data.accessToken;\r\n \r\n                    // save in local storage\r\n                    localStorage.setItem(this.$accessTokenKey, accessToken)\r\n \r\n                    // to go to home page without refreshing\r\n                    // this.$router.push(\"/\")\r\n \r\n                    setTimeout(function () {\r\n                        window.location.href = \"/\"\r\n                    }, 500);\r\n \r\n                    form.reset()\r\n                } else {\r\n                    this.isLoading = false;\r\n                    swal.fire(\"Error\", response.data.message, \"error\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>"],"mappings":"AA4BI,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAE7B,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACH,WAAW,EAAE;IACjB,CAAC;EACL,CAAC;EAEDC,OAAO,EAAE;IACLC,OAAO,EAAE,eAAAA,CAAA,EAAkB;MACvB,MAAMC,IAAG,GAAI,IAAG;MAChB,MAAMC,IAAG,GAAIC,KAAK,CAACC,MAAK;MACxB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAACJ,IAAI;MAElC,IAAI,CAACK,SAAQ,GAAI,IAAI;MAErB,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAC7B,IAAI,CAACC,OAAM,GAAI,QAAQ,EACvBL,QACJ,CAAC;MAED,IAAIG,QAAQ,CAACV,IAAI,CAACa,MAAK,IAAK,SAAS,EAAE;QACnC;QACA,IAAIC,WAAU,GAAIJ,QAAQ,CAACV,IAAI,CAACc,WAAW;;QAE3C;QACAC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,eAAe,EAAEH,WAAW;;QAEtD;QACA;;QAEAI,UAAU,CAAC,YAAY;UACnBC,MAAM,CAACC,QAAQ,CAACC,IAAG,GAAI,GAAE;QAC7B,CAAC,EAAE,GAAG,CAAC;QAEPjB,IAAI,CAACkB,KAAK,CAAC;MACf,OAAO;QACH,IAAI,CAACb,SAAQ,GAAI,KAAK;QACtBV,IAAI,CAACwB,IAAI,CAAC,OAAO,EAAEb,QAAQ,CAACV,IAAI,CAACwB,OAAO,EAAE,OAAO,CAAC;MACtD;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}