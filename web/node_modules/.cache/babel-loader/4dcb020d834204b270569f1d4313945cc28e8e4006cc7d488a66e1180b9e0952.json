{"ast":null,"code":"import { createElementVNode as _createElementVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row clearfix\"\n};\nconst _hoisted_3 = {\n  class: \"col-lg-12\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"card\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-center\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n}, \"This chat has been archived\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"row\",\n  style: {\n    \"margin-top\": \"100px\",\n    \"margin-bottom\": \"100px\"\n  }\n};\nconst _hoisted_8 = {\n  class: \"offset-md-4 col-md-4\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-group\",\n  style: {\n    \"margin-bottom\": \"10px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"label\", null, \"Enter password\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"password\",\n  name: \"password\",\n  class: \"form-control\",\n  required: \"\",\n  style: {\n    \"margin-top\": \"10px\"\n  }\n})], -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  class: \"btn btn-danger\",\n  value: \"Open chat\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_11 = [_hoisted_9, _hoisted_10];\nconst _hoisted_12 = {\n  key: 1,\n  class: \"card chat-app\"\n};\nconst _hoisted_13 = {\n  class: \"chat\"\n};\nconst _hoisted_14 = {\n  class: \"chat-header clearfix\"\n};\nconst _hoisted_15 = {\n  class: \"row\"\n};\nconst _hoisted_16 = {\n  class: \"col-lg-6\"\n};\nconst _hoisted_17 = {\n  href: \"javascript:void(0);\",\n  \"data-toggle\": \"modal\",\n  \"data-target\": \"#view_info\"\n};\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = {\n  class: \"chat-about\"\n};\nconst _hoisted_20 = [\"textContent\"];\nconst _hoisted_21 = {\n  class: \"col-lg-6 hidden-sm text-right text-white\"\n};\nconst _hoisted_22 = [\"textContent\"];\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-group\",\n  style: {\n    \"display\": \"flex\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"search\",\n  name: \"search\",\n  autocomplete: \"off\"\n}), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-link\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-search\"\n})])], -1 /* HOISTED */);\nconst _hoisted_24 = [_hoisted_23];\nconst _hoisted_25 = [\"textContent\"];\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-paperclip\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_27 = [_hoisted_26];\nconst _hoisted_28 = {\n  class: \"chat-history\"\n};\nconst _hoisted_29 = {\n  class: \"m-b-0\"\n};\nconst _hoisted_30 = {\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_31 = [\"onClick\", \"is-my-message\"];\nconst _hoisted_32 = [\"textContent\"];\nconst _hoisted_33 = [\"data-id\", \"textContent\"];\nconst _hoisted_34 = [\"textContent\"];\nconst _hoisted_35 = [\"src\"];\nconst _hoisted_36 = {\n  class: \"chat-message clearfix\"\n};\nconst _hoisted_37 = {\n  class: \"input-group mb-0\"\n};\nconst _hoisted_38 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_39 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"emojis\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_40 = [\"href\", \"download\"];\nconst _hoisted_41 = {\n  id: \"contextMenu\",\n  class: \"context-menu\",\n  style: {\n    \"display\": \"none\"\n  }\n};\nconst _hoisted_42 = {\n  class: \"menu\"\n};\nconst _hoisted_43 = {\n  class: \"copy\"\n};\nconst _hoisted_44 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-copy\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_45 = {\n  class: \"bookmark\"\n};\nconst _hoisted_46 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-bookmark-o\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [$data.isArchive ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"form\", {\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.verifyArchivedPassword && $options.verifyArchivedPassword(...args), [\"prevent\"]))\n  }, _hoisted_11, 32 /* HYDRATE_EVENTS */)])])])])) : _createCommentVNode(\"v-if\", true), !$data.isArchive ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"a\", _hoisted_17, [$data.receiver != null ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $options.getChatPersonPicture($data.receiver),\n    alt: \"avatar\",\n    style: {\n      \"width\": \"50px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_18)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_19, [$data.receiver != null ? (_openBlock(), _createElementBlock(\"h6\", {\n    key: 0,\n    class: \"m-b-0 text-white\",\n    textContent: _toDisplayString($data.receiver.name),\n    style: {\n      \"margin-bottom\": \"0px\",\n      \"position\": \"relative\",\n      \"top\": \"10px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_20)) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    style: {\n      \"margin-right\": \"10px\"\n    },\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.showBookmarkedMessages && $options.showBookmarkedMessages(...args)),\n    textContent: _toDisplayString($data.isShowingBookmarked ? 'All messages' : 'Bookmarked messages')\n  }, null, 8 /* PROPS */, _hoisted_22), _createElementVNode(\"form\", {\n    style: {\n      \"display\": \"inline-block\"\n    },\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.doSearch && $options.doSearch(...args), [\"prevent\"]))\n  }, _hoisted_24, 32 /* HYDRATE_EVENTS */), $data.attachment != null ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    style: {\n      \"margin-right\": \"10px\",\n      \"position\": \"relative\",\n      \"top\": \"7px\"\n    },\n    textContent: _toDisplayString($data.attachment.name)\n  }, null, 8 /* PROPS */, _hoisted_25)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"a\", {\n    href: \"javascript:void(0);\",\n    class: \"btn btn-outline-secondary pull-right text-white\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.selectFile && $options.selectFile(...args))\n  }, _hoisted_27), _createElementVNode(\"input\", {\n    type: \"file\",\n    id: \"attachment\",\n    style: {\n      \"display\": \"none\"\n    },\n    onChange: _cache[4] || (_cache[4] = (...args) => $options.fileSelected && $options.fileSelected(...args))\n  }, null, 32 /* HYDRATE_EVENTS */)])])]), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"ul\", _hoisted_29, [_createElementVNode(\"li\", _hoisted_30, [$data.hasMoreMessages ? (_openBlock(), _createElementBlock(\"i\", {\n    key: 0,\n    class: _normalizeClass($data.btnLoadMoreClass + ' btnLoadMore'),\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.loadMore && $options.loadMore(...args))\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.messages, msg => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"clearfix\",\n      key: msg._id\n    }, [_createElementVNode(\"div\", {\n      class: \"more-options\",\n      onClick: $event => $options.showMoreOptions(msg),\n      \"is-my-message\": _ctx.user != null && _ctx.user.email == msg.sender.email,\n      style: _normalizeStyle(_ctx.user != null && _ctx.user.email == msg.sender.email ? {\n        'float': 'right'\n      } : {\n        'position': 'relative',\n        'top': '15px'\n      })\n    }, null, 12 /* STYLE, PROPS */, _hoisted_31), _createElementVNode(\"div\", {\n      class: _normalizeClass('message ' + (_ctx.user != null && _ctx.user.email == msg.sender.email ? 'my-message float-right' : 'other-message'))\n    }, [_createElementVNode(\"p\", {\n      textContent: _toDisplayString(msg.message),\n      class: _normalizeClass(_ctx.user != null && _ctx.user.email == msg.sender.email ? 'text-right' : ''),\n      style: {\n        \"margin-bottom\": \"0px\"\n      }\n    }, null, 10 /* CLASS, PROPS */, _hoisted_32), msg.attachment != null ? (_openBlock(), _createElementBlock(\"a\", {\n      key: 0,\n      href: \"javascript:void(0)\",\n      \"data-id\": msg._id,\n      onClick: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.downloadAttachment && $options.downloadAttachment(...args), [\"prevent\"])),\n      textContent: _toDisplayString(msg.attachment.displayName),\n      class: \"text-info\",\n      target: \"_blank\"\n    }, null, 8 /* PROPS */, _hoisted_33)) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */), _createElementVNode(\"div\", {\n      class: _normalizeClass('message-data ' + (_ctx.user != null && _ctx.user.email == msg.sender.email ? 'float-right' : ''))\n    }, [_createElementVNode(\"span\", {\n      class: \"message-data-time text-white\",\n      textContent: _toDisplayString($options.getMessageTime(msg.createdAt)),\n      style: {\n        \"margin-right\": \"10px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_34), _createElementVNode(\"img\", {\n      src: $options.getPicture(msg.sender),\n      alt: \"avatar\",\n      style: {\n        \"width\": \"100px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_35)], 2 /* CLASS */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"div\", _hoisted_38, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control send-message\",\n    placeholder: \"Enter text here...\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.message = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.message]]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.sendMessage && $options.sendMessage(...args)),\n    type: \"button\"\n  }, \"Send\")])]), _hoisted_39])])])) : _createCommentVNode(\"v-if\", true)])])]), _createElementVNode(\"a\", {\n    href: $data.base64Str,\n    ref: \"btnDownloadAttachment\",\n    download: $data.downloadFileName\n  }, null, 8 /* PROPS */, _hoisted_40), _createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"ul\", _hoisted_42, [_createElementVNode(\"li\", _hoisted_43, [_createElementVNode(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.copyMessage && $options.copyMessage(...args))\n  }, [_hoisted_44, _createTextVNode(\" Copy\")])]), _createElementVNode(\"li\", _hoisted_45, [_createElementVNode(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.bookmarkMessage && $options.bookmarkMessage(...args))\n  }, [_hoisted_46, _createTextVNode(\" Bookmark\")])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","style","type","name","required","value","_hoisted_9","_hoisted_10","href","autocomplete","_hoisted_23","_hoisted_26","id","_hoisted_1","_hoisted_2","_hoisted_3","$data","isArchive","_createElementBlock","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","onSubmit","_cache","_withModifiers","args","$options","verifyArchivedPassword","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","receiver","src","getChatPersonPicture","alt","_hoisted_19","_toDisplayString","_hoisted_21","onClick","showBookmarkedMessages","isShowingBookmarked","doSearch","attachment","selectFile","onChange","fileSelected","_hoisted_28","_hoisted_29","_hoisted_30","hasMoreMessages","_normalizeClass","btnLoadMoreClass","loadMore","_Fragment","_renderList","messages","msg","key","_id","$event","showMoreOptions","_ctx","user","email","sender","_normalizeStyle","message","downloadAttachment","displayName","target","getMessageTime","createdAt","getPicture","_hoisted_36","_hoisted_37","_hoisted_38","placeholder","sendMessage","_hoisted_39","base64Str","ref","download","downloadFileName","_hoisted_41","_hoisted_42","_hoisted_43","copyMessage","_hoisted_44","_hoisted_45","bookmarkMessage","_hoisted_46"],"sources":["D:\\2023\\2023_PTUDW\\chat-station-mevn-free\\chat-station-mevn-free\\web\\src\\components\\ChatComponent.vue"],"sourcesContent":["<template>\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row clearfix\">\r\n\t\t\t<div class=\"col-lg-12\">\r\n\r\n\t\t\t\t<div class=\"card\" v-if=\"isArchive\">\r\n\t\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t\t<h2 class=\"text-center\" style=\"margin-top: 20px;\">This chat has been archived</h2>\r\n\r\n\t\t\t\t\t\t<div class=\"row\" style=\"margin-top: 100px; margin-bottom: 100px;\">\r\n\t\t\t\t\t\t\t<div class=\"offset-md-4 col-md-4\">\r\n\t\t\t\t\t\t\t\t<form v-on:submit.prevent=\"verifyArchivedPassword\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group\" style=\"margin-bottom: 10px;\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Enter password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"password\" name=\"password\" class=\"form-control\" required style=\"margin-top: 10px;\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<input type=\"submit\" class=\"btn btn-danger\" value=\"Open chat\" />\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"card chat-app\" v-if=\"!isArchive\">\r\n\t\t\t\t\t<div class=\"chat\">\r\n\t\t\t\t\t\t<div class=\"chat-header clearfix\">\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#view_info\">\r\n\t\t\t\t\t\t\t\t\t\t<img v-if=\"receiver != null\" v-bind:src=\"getChatPersonPicture(receiver)\" alt=\"avatar\" style=\"width: 50px;\" />\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"chat-about\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 class=\"m-b-0 text-white\" v-if=\"receiver != null\" v-text=\"receiver.name\" style=\"margin-bottom: 0px; position: relative; top: 10px;\"></h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"col-lg-6 hidden-sm text-right text-white\">\r\n\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" style=\"margin-right: 10px;\" v-on:click=\"showBookmarkedMessages\" v-text=\"isShowingBookmarked ? 'All messages' : 'Bookmarked messages'\"></button>\r\n\r\n\t\t\t\t\t\t\t\t\t<form style=\"display: inline-block;\" v-on:submit.prevent=\"doSearch\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"search\" name=\"search\" autocomplete=\"off\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-link\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-search\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"attachment != null\" style=\"margin-right: 10px; position: relative; top: 7px;\" v-text=\"attachment.name\"></span>\r\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"btn btn-outline-secondary pull-right text-white\" v-on:click=\"selectFile\"><i class=\"fa fa-paperclip\"></i></a>\r\n\t\t\t\t\t\t\t\t\t<input type=\"file\" id=\"attachment\" style=\"display: none;\" v-on:change=\"fileSelected\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"chat-history\">\r\n\t\t\t\t\t\t\t<ul class=\"m-b-0\">\r\n\t\t\t\t\t\t\t\t<li style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t\t\t<i v-bind:class=\"btnLoadMoreClass + ' btnLoadMore'\" v-on:click=\"loadMore\" v-if=\"hasMoreMessages\"></i>\r\n\t\t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t\t<li v-for=\"msg in messages\" class=\"clearfix\" v-bind:key=\"msg._id\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"more-options\" v-on:click=\"showMoreOptions(msg)\" v-bind:is-my-message=\"(user != null && user.email == msg.sender.email)\" v-bind:style=\"(user != null && user.email == msg.sender.email) ? { 'float': 'right' } : { 'position': 'relative', 'top': '15px' }\"></div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div v-bind:class=\"'message ' + (user != null && user.email == msg.sender.email ? 'my-message float-right' : 'other-message')\">\r\n\t\t\t\t\t\t\t\t\t\t<p v-text=\"msg.message\" v-bind:class=\"(user != null && user.email == msg.sender.email ? 'text-right' : '')\" style=\"margin-bottom: 0px;\"></p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"msg.attachment != null\">\r\n\t\t\t\t\t\t\t\t\t\t    <a href=\"javascript:void(0)\" v-bind:data-id=\"msg._id\" v-on:click.prevent=\"downloadAttachment\" v-text=\"msg.attachment.displayName\" class=\"text-info\" target=\"_blank\"></a>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div v-bind:class=\"'message-data ' + (user != null && user.email == msg.sender.email ? 'float-right' : '')\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"message-data-time text-white\" v-text=\"getMessageTime(msg.createdAt)\" style=\"margin-right: 10px;\"></span>\r\n\t\t\t\t\t\t\t\t\t\t<img v-bind:src=\"getPicture(msg.sender)\" alt=\"avatar\" style=\"width: 100px;\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"chat-message clearfix\">\r\n\t\t\t\t\t\t\t<div class=\"input-group mb-0\">\r\n\t\t\t\t\t\t\t\t<div class=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control send-message\" placeholder=\"Enter text here...\" v-model=\"message\" />\r\n\r\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn-primary\" v-on:click=\"sendMessage\" type=\"button\">Send</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div id=\"emojis\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<a v-bind:href=\"base64Str\" ref=\"btnDownloadAttachment\" v-bind:download=\"downloadFileName\"></a>\r\n\r\n\t<div id=\"contextMenu\" class=\"context-menu\" style=\"display: none\"> \r\n        <ul class=\"menu\"> \r\n            <li class=\"copy\"><a href=\"javascript:void(0)\" v-on:click=\"copyMessage\"><i class=\"fa fa-copy\" aria-hidden=\"true\"></i> Copy</a></li>\r\n\r\n            <li class=\"bookmark\"><a href=\"javascript:void(0)\" v-on:click=\"bookmarkMessage\"><i class=\"fa fa-bookmark-o\" aria-hidden=\"true\"></i> Bookmark</a></li>\r\n        </ul> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport \"../../public/assets/css/chat.css\"\r\n\timport \"../../public/assets/emoji/emojis.css\"\r\n\timport \"../../public/assets/emoji/DisMojiPicker.js\"\r\n\t\r\n\timport axios from \"axios\"\r\n\timport swal from \"sweetalert2\"\r\n\timport store from \"../vuex/store\"\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tattachment: null,\r\n\t\t\t\tmessage: \"\",\r\n\t\t\t\temail: this.$route.params.email,\r\n\t\t\t\tpage: 0,\r\n\t\t\t\treceiver: null,\r\n\t\t\t\tbase64Str: \"\",\r\n\t\t\t\tdownloadFileName: \"\",\r\n\t\t\t\tbtnLoadMoreClass: \"fa fa-repeat\",\r\n\t\t\t\thasMoreMessages: true,\r\n\t\t\t\tselectedMessageId: 0,\r\n\t\t\t\tselectedMessageText: \"\",\r\n\t\t\t\tisShowingBookmarked: false,\r\n\t\t\t\tisArchive: false,\r\n\t\t\t\tpassword: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t    messages() {\r\n\t\t        return store.getters.getMessages\r\n\t\t    }\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tverifyArchivedPassword: async function () {\r\n\t\t\t\tconst self = this\r\n\t\t\t\tconst form = event.target\r\n\t\t\t\tconst formData = new FormData(form)\r\n\t\t\t\tformData.append(\"email\", this.email)\r\n\t\t\t    \r\n\t\t\t    const response = await axios.post(\r\n\t\t\t        this.$apiURL + \"/chat/verifyArchivedPassword\",\r\n\t\t\t        formData,\r\n\t\t\t        {\r\n\t\t\t            headers: this.$headers\r\n\t\t\t        }\r\n\t\t\t    )\r\n\r\n\t\t\t    if (response.data.status == \"success\") {\r\n\t\t\t    \tthis.isArchive = response.data.isArchive\r\n\t\t\t    \tthis.password = form.password.value\r\n\r\n\t\t\t    \tif (this.isArchive) {\r\n\t\t\t    \t\tstore.commit(\"setMessages\", [])\r\n\t\t\t\t    \tthis.getData()\r\n\r\n\t\t\t\t    \tsetTimeout(function () {\r\n\t\t\t\t    \t\tself.initializeEmoji()\r\n\t\t\t\t    \t}, 500)\r\n\t\t\t\t    }\r\n\t\t\t    } else {\r\n\t\t\t        swal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t\t    }\r\n\t\t\t},\r\n\r\n\t\t\tshowBookmarkedMessages: async function () {\r\n\t\t\t\tstore.commit(\"setMessages\", [])\r\n\r\n\t\t\t\tif (this.isShowingBookmarked) {\r\n\t\t\t\t\tthis.page = 0\r\n\t\t\t\t\tthis.getData()\r\n\t\t\t\t\tthis.isShowingBookmarked = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst formData = new FormData()\r\n\t\t\t\t\tformData.append(\"email\", this.email)\r\n\t\t\t\t\tformData.append(\"password\", this.password)\r\n\t\t\t\t    \r\n\t\t\t\t    const response = await axios.post(\r\n\t\t\t\t        this.$apiURL + \"/chat/getBookmarked\",\r\n\t\t\t\t        formData,\r\n\t\t\t\t        {\r\n\t\t\t\t            headers: this.$headers\r\n\t\t\t\t        }\r\n\t\t\t\t    )\r\n\r\n\t\t\t\t    if (response.data.status == \"success\") {\r\n\t\t\t\t    \tfor (let a = 0; a < response.data.data.length; a++) {\r\n\t\t\t\t\t\t\tstore.commit(\"prependMessage\", response.data.data[a])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.attachEventListeners()\r\n\t\t\t\t    } else {\r\n\t\t\t\t        swal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t\t\t    }\r\n\r\n\t\t\t\t    this.isShowingBookmarked = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tcopyMessage: function() {\r\n\t\t\t\tnavigator.clipboard.writeText(this.selectedMessageText)\r\n\t\t\t},\r\n\r\n\t\t\tbookmarkMessage: async function() {\r\n\t\t\t\tconst target = event.target\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append(\"_id\", this.selectedMessageId)\r\n\t\t\t\tformData.append(\"password\", this.password)\r\n\t\t\t    \r\n\t\t\t    const response = await axios.post(\r\n\t\t\t        this.$apiURL + \"/chat/bookmark\",\r\n\t\t\t        formData,\r\n\t\t\t        {\r\n\t\t\t            headers: this.$headers\r\n\t\t\t        }\r\n\t\t\t    )\r\n\r\n\t\t\t    if (response.data.status == \"success\") {\r\n\t\t\t    \tfor (let a = 0; a < this.messages.length; a++) {\r\n\t\t\t    \t\tif (this.messages[a]._id == this.selectedMessageId) {\r\n\t\t\t    \t\t\tthis.messages[a] = response.data.newMessage\r\n\t\t\t    \t\t\tbreak\r\n\t\t\t    \t\t}\r\n\t\t\t    \t}\r\n\t\t\t    \tstore.commit(\"setMessages\", this.messages)\r\n\t\t\t    } else {\r\n\t\t\t        swal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t\t    }\r\n\t\t\t},\r\n\r\n\t\t\thideMoreOptions: function () {\r\n\t\t\t\tdocument.getElementById(\"contextMenu\").style.display = \"none\"\r\n\t\t\t},\r\n\r\n\t\t\tshowMoreOptions: function (msg) {\r\n\t\t\t\tconst isMyMessage = event.target.getAttribute(\"is-my-message\")\r\n\t\t\t\tthis.selectedMessageId = msg._id\r\n\t\t\t\tthis.selectedMessageText = msg.message\r\n\t\t\t\t\r\n\t\t\t\tvar menu = document.getElementById(\"contextMenu\")\r\n                menu.style.display = 'block'\r\n                if (isMyMessage == \"true\") {\r\n                \tmenu.style.left = (event.pageX - 200) + \"px\"\r\n                } else {\r\n                \tmenu.style.left = event.pageX + \"px\"\r\n                }\r\n                menu.style.top = event.pageY + \"px\"\r\n\r\n                document.querySelector(\".bookmark i\").className = \"fa fa-bookmark-o\"\r\n\r\n                if (msg.bookmarkBy) {\r\n                \tdocument.querySelector(\".bookmark i\").className = \"fa fa-bookmark\"\r\n                }\r\n\t\t\t},\r\n\r\n\t\t\tattachEventListeners: function() {\r\n\t\t\t\tconst self = this\r\n\r\n\t\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\t\tconst moreOptions = document.querySelectorAll(\".more-options\")\r\n\t\t\t\t\tlet isClickedMoreOptions = true\r\n\t\t\t\t\tfor (let a = 0; a < moreOptions.length; a++) {\r\n\t\t\t\t\t\tif (moreOptions[a].contains(e.target)) {\r\n\t\t\t\t\t\t\t// Clicked in box\r\n\t\t\t\t\t\t\tisClickedMoreOptions = true\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Clicked outside the box\r\n\t\t\t\t\t\t\tisClickedMoreOptions = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!isClickedMoreOptions) {\r\n\t\t\t\t\t\tself.hideMoreOptions()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetChatPersonPicture: function (user) {\r\n\t\t\t\tif (typeof user.picture !== \"undefined\" && user.picture != \"\") {\r\n\t\t\t\t\treturn this.$apiURL + \"/\" + user.picture\r\n\t\t\t\t}\r\n\t\t\t\treturn \"../../assets/img/avatar2.png\"\r\n\t\t\t},\r\n\r\n\t\t\tgetPicture: function (user) {\r\n\t\t\t\tif (typeof user.picture !== \"undefined\") {\r\n\t\t\t\t\treturn this.$apiURL + \"/\" + user.picture\r\n\t\t\t\t}\r\n\t\t\t\treturn \"../../assets/img/avatar7.png\"\r\n\t\t\t},\r\n\r\n\t\t\tdoSearch: async function () {\r\n\t\t\t\tconst form = event.target\r\n\t\t\t\tconst formData = new FormData(form)\r\n\t\t\t\tformData.append(\"email\", this.email)\r\n\t\t\t\tformData.append(\"password\", this.password)\r\n\t\t\t    \r\n\t\t\t    const response = await axios.post(\r\n\t\t\t        this.$apiURL + \"/chat/search\",\r\n\t\t\t        formData,\r\n\t\t\t        {\r\n\t\t\t            headers: this.$headers\r\n\t\t\t        }\r\n\t\t\t    )\r\n\r\n\t\t\t    if (response.data.status == \"success\") {\r\n\t\t\t    \tstore.commit(\"setMessages\", [])\r\n\t\t\t    \tfor (let a = 0; a < response.data.data.length; a++) {\r\n\t\t\t\t\t\tstore.commit(\"prependMessage\", response.data.data[a])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.attachEventListeners()\r\n\t\t\t    } else {\r\n\t\t\t        swal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t\t    }\r\n\t\t\t},\r\n\r\n\t\t\tdownloadAttachment: async function () {\r\n\t\t\t    const anchor = event.target\r\n\t\t\t    const id = anchor.getAttribute(\"data-id\")\r\n\t\t\t    const originalHtml = anchor.innerHTML\r\n\t\t\t    anchor.innerHTML = \"Loading...\"\r\n\r\n\t\t\t    const formData = new FormData()\r\n\t\t\t    formData.append(\"messageId\", id)\r\n\t\t\t    formData.append(\"password\", this.password)\r\n\t\t\t    \r\n\t\t\t    const response = await axios.post(\r\n\t\t\t        this.$apiURL + \"/chat/attachment\",\r\n\t\t\t        formData,\r\n\t\t\t        {\r\n\t\t\t            headers: this.$headers\r\n\t\t\t        }\r\n\t\t\t    )\r\n\r\n\t\t\t    if (response.data.status == \"success\") {\r\n\t\t\t        this.base64Str = response.data.base64Str\r\n\t\t\t        this.downloadFileName = response.data.fileName\r\n\t\t\t        \r\n\t\t\t        const btnDownloadAttachment = this.$refs[\"btnDownloadAttachment\"]\r\n\t\t\t        setTimeout(function () {\r\n\t\t\t            btnDownloadAttachment.click()\r\n\t\t\t            anchor.innerHTML = originalHtml\r\n\t\t\t        }, 500)\r\n\t\t\t    } else {\r\n\t\t\t        swal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t\t    }\r\n\t\t\t},\r\n\r\n\t\t\tfileSelected: function () {\r\n\t\t\t\tconst files = event.target.files\r\n\t\t\t\tif (files.length > 0) {\r\n\t\t\t\t\tthis.attachment = files[0]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tselectFile: function () {\r\n\t\t\t\tdocument.getElementById(\"attachment\").click()\r\n\t\t\t},\r\n\r\n\t\t\tgetMessageTime: function (time) {\r\n\t\t\t\tconst dateObj = new Date(time)\r\n\t\t\t\tlet timeStr = dateObj.getFullYear() + \"-\" + (dateObj.getMonth() + 1) + \"-\" + dateObj.getDate() + \" \" + dateObj.getHours() + \":\" + dateObj.getMinutes() + \":\" + dateObj.getSeconds()\r\n\t\t\t\treturn timeStr\r\n\t\t\t},\r\n\r\n\t\t\tloadMore: function () {\r\n\t\t\t\tthis.btnLoadMoreClass = \"fa fa-spinner fa-spin\"\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\r\n\t\t\tgetData: async function () {\r\n\t\t\t\tif (this.email == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append(\"email\", this.email)\r\n\t\t\t\tformData.append(\"page\", this.page)\r\n\t\t\t\tformData.append(\"password\", this.password)\r\n\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\tthis.$apiURL + \"/chat/fetch\",\r\n\t\t\t\t\tformData,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: this.$headers\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.btnLoadMoreClass = \"fa fa-repeat\"\r\n\r\n\t\t\t\tif (response.data.status == \"success\") {\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (let a = 0; a < response.data.messages.length; a++) {\r\n\t\t\t\t\t\tstore.commit(\"prependMessage\", response.data.messages[a])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hasMoreMessages = (response.data.messages.length == 0) ? false : true\r\n\t\t\t\t\tthis.receiver = response.data.receiver\r\n\t\t\t\t\tthis.user = response.data.user\r\n\t\t\t\t\tthis.isArchive = response.data.isArchive\r\n\t\t\t\t\tthis.attachEventListeners()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tswal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tsendMessage: async function () {\r\n\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append(\"email\", this.email)\r\n\t\t\t\tformData.append(\"message\", this.message)\r\n\t\t\t\tformData.append(\"password\", this.password)\r\n\t\t\t\tif (this.attachment != null) {\r\n\t\t\t\t\tformData.append(\"attachment\", this.attachment)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\tthis.$apiURL + \"/chat/send\",\r\n\t\t\t\t\tformData,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: this.$headers\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tif (response.data.status == \"success\") {\r\n\t\t\t\t\tthis.message = \"\"\r\n\r\n\t\t\t\t\tthis.attachment = null\r\n\t\t\t\t\tdocument.getElementById(\"attachment\").value = null\r\n\r\n\t\t\t\t\tstore.commit(\"appendMessage\", response.data.messageObject)\r\n\t\t\t\t\tthis.attachEventListeners()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tswal.fire(\"Error\", response.data.message, \"error\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tinitializeEmoji: function() {\r\n\t\t\t\tconst self = this\r\n\t\t\t\t$(\"#emojis\").disMojiPicker()\r\n\t\t\t\ttwemoji.parse(document.body)\r\n\t\t\t\t$(\"#emojis\").picker(function (emoji) {\r\n\t\t\t\t\tself.message += emoji\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tthis.getData()\r\n\t\t\tthis.initializeEmoji()\r\n\r\n\t\t\t/*document.addEventListener(\"click\", function () {\r\n\t\t\t\tself.hideMoreOptions()\r\n\t\t\t})\r\n\r\n       \t\tdocument.oncontextmenu = function () {\r\n       \t\t\tevent.preventDefault()\r\n\r\n\t            if (document.getElementById(\"contextMenu\").style.display == \"block\"){ \r\n\t                hideMenu(); \r\n\t            }else{ \r\n\t                var menu = document.getElementById(\"contextMenu\")      \r\n\t                menu.style.display = 'block'; \r\n\t                menu.style.left = event.pageX + \"px\"; \r\n\t                menu.style.top = event.pageY + \"px\"; \r\n\t            }\r\n       \t\t}*/\r\n\t\t},\r\n\r\n\t\twatch: {\r\n            $route: function (to, from) {\r\n                if (from.href.includes(\"/chat/\")) {\r\n                \tstore.commit(\"setMessages\", [])\r\n                }\r\n            }\r\n        },\r\n\t}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}