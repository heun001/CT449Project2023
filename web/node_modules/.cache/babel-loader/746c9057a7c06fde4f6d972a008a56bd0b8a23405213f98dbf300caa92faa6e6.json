{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport store from \"../vuex/store\";\nimport \"../../public/assets/css/chat.css\";\nexport default {\n  data() {\n    return {\n      _id: \"\",\n      name: \"\",\n      message: \"\",\n      page: 0,\n      receiver: null,\n      btnLoadMoreClass: \"fa fa-repeat\",\n      hasMoreMessages: true,\n      selectedMessageId: 0,\n      selectedMessageText: \"\",\n      password: \"\",\n      searchContact: \"\"\n    };\n  },\n  computed: {\n    contacts() {\n      return store.getters.getContacts;\n    },\n    messages() {\n      return store.getters.getMessages;\n    }\n  },\n  methods: {\n    onSearchKeyPress: function () {\n      if (event.key == \"Enter\") {\n        this.doSearchContact();\n      }\n    },\n    onSearchKeyUp: function () {\n      this.doSearchContact();\n    },\n    showContactOptions: function () {\n      var menu = document.getElementById(\"contextMenuContactOptions\");\n      menu.style.display = 'block';\n      menu.style.left = event.pageX + \"px\";\n      menu.style.top = event.pageY + \"px\";\n    },\n    copyMessage: function () {\n      navigator.clipboard.writeText(this.selectedMessageText);\n    },\n    showMoreOptions: function (msg) {\n      const isMyMessage = event.target.getAttribute(\"is-my-message\");\n      this.selectedMessageId = msg._id;\n      this.selectedMessageText = msg.message;\n      var menu = document.getElementById(\"contextMenu\");\n      menu.style.display = 'block';\n      if (isMyMessage == \"true\") {\n        menu.style.left = event.pageX - 200 + \"px\";\n      } else {\n        menu.style.left = event.pageX + \"px\";\n      }\n      menu.style.top = event.pageY + \"px\";\n      document.querySelector(\".bookmark i\").className = \"fa fa-bookmark-o\";\n      if (msg.bookmarkBy) {\n        document.querySelector(\".bookmark i\").className = \"fa fa-bookmark\";\n      }\n    },\n    attachEventListeners: function () {\n      const self = this;\n      document.addEventListener('click', function (e) {\n        const moreOptions = document.querySelectorAll(\".more-options\");\n        let isClickedMoreOptions = true;\n        for (let a = 0; a < moreOptions.length; a++) {\n          if (moreOptions[a].contains(e.target)) {\n            // Clicked in box\n            isClickedMoreOptions = true;\n            break;\n          } else {\n            // Clicked outside the box\n            isClickedMoreOptions = false;\n          }\n        }\n        if (!isClickedMoreOptions) {\n          document.getElementById(\"contextMenu\").style.display = \"none\";\n          document.getElementById(\"contextMenuContactOptions\").style.display = \"none\";\n        }\n      });\n    },\n    getChatPersonPicture: function (user) {\n      if (typeof user.picture !== \"undefined\" && user.picture != \"\") {\n        return this.$apiURL + \"/\" + user.picture;\n      }\n      return \"../../assets/img/avatar2.png\";\n    },\n    getPicture: function (user) {\n      if (typeof user.picture !== \"undefined\") {\n        return this.$apiURL + \"/\" + user.picture;\n      }\n      return \"../../assets/img/avatar7.png\";\n    },\n    doSearchContact: async function () {\n      const formData = new FormData();\n      formData.append(\"searchContact\", this.searchContact);\n      const response = await axios.post(this.$apiURL + \"/contact/search\", formData, {\n        headers: this.$headers\n      });\n      if (response.data.status == \"success\") {\n        store.commit(\"setContacts\", response.data.data);\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    },\n    doSearch: async function () {\n      const form = event.target;\n      const formData = new FormData(form);\n      formData.append(\"email\", this.email);\n      formData.append(\"password\", this.password);\n      const response = await axios.post(this.$apiURL + \"/chat/search\", formData, {\n        headers: this.$headers\n      });\n      if (response.data.status == \"success\") {\n        store.commit(\"setMessages\", []);\n        for (let a = 0; a < response.data.data.length; a++) {\n          store.commit(\"prependMessage\", response.data.data[a]);\n        }\n        this.attachEventListeners();\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    },\n    getMessageTime: function (time) {\n      const dateObj = new Date(time);\n      let timeStr = dateObj.getDate() + \" \" + this.$months[dateObj.getMonth()] + \", \" + dateObj.getFullYear() + \" \" + dateObj.getHours() + \":\" + dateObj.getMinutes() + \":\" + dateObj.getSeconds();\n      return timeStr;\n    },\n    loadMore: function () {\n      this.btnLoadMoreClass = \"fa fa-spinner fa-spin\";\n      this.page++;\n      this.getData();\n    },\n    sendMessage: async function () {\n      const formData = new FormData();\n      formData.append(\"_id\", this._id);\n      formData.append(\"message\", this.message);\n      formData.append(\"password\", this.password);\n      const response = await axios.post(this.$apiURL + \"/chat/send\", formData, {\n        headers: this.$headers\n      });\n      if (response.data.status == \"success\") {\n        this.message = \"\";\n        store.commit(\"appendMessage\", response.data.messageObject);\n        this.attachEventListeners();\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    },\n    deleteContact: async function () {\n      const self = this;\n      swal.fire({\n        title: 'Are you sure?',\n        text: \"This will be removed from your contact\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then(async function (result) {\n        if (result.isConfirmed) {\n          self.isDeleting = true;\n          const formData = new FormData();\n          formData.append(\"_id\", self._id);\n          const response = await axios.post(self.$apiURL + \"/contact/delete\", formData, {\n            headers: self.$headers\n          });\n          self.isDeleting = false;\n          if (response.data.status == \"success\") {\n            swal.fire('Deleted!', response.data.message, 'success');\n            const contactsArr = self.contacts;\n            for (let a = 0; a < contactsArr.length; a++) {\n              if (contactsArr[a]._id == self._id) {\n                contactsArr.splice(a, 1);\n                break;\n              }\n            }\n            self.contacts = contactsArr;\n            store.commit(\"setMessages\", []);\n            self.totalMessages = 0;\n            self.name = \"\";\n            self._id = \"\";\n          } else {\n            swal.fire(\"Error\", response.data.message, \"error\");\n          }\n        }\n      });\n    },\n    onChatSelected: function () {\n      const self = this;\n      store.commit(\"setMessages\", []);\n      this._id = event.target.getAttribute(\"data-id\");\n      this.name = event.target.getAttribute(\"data-name\");\n      this.getChat();\n    },\n    getChat: async function () {\n      const self = this;\n      const formData = new FormData();\n      formData.append(\"_id\", this._id);\n      formData.append(\"page\", this.page);\n      formData.append(\"password\", this.password);\n      const response = await axios.post(this.$apiURL + \"/chat/fetch\", formData, {\n        headers: this.$headers\n      });\n      this.btnLoadMoreClass = \"fa fa-repeat\";\n      if (response.data.status == \"success\") {\n        this.totalMessages = response.data.totalMessages;\n        for (let a = 0; a < response.data.messages.length; a++) {\n          store.commit(\"prependMessage\", response.data.messages[a]);\n        }\n        this.hasMoreMessages = response.data.messages.length == 0 ? false : true;\n        this.receiver = response.data.receiver;\n        this.user = response.data.user;\n        this.attachEventListeners();\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    },\n    getData: async function () {\n      const self = this;\n      const response = await axios.post(this.$apiURL + \"/contact/fetch\", null, {\n        headers: this.$headers\n      });\n      if (response.data.status == \"success\") {\n        store.commit(\"setContacts\", response.data.contacts);\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    }\n  },\n  mounted: function () {\n    this.getData();\n  },\n  watch: {\n    $route: function (to, from) {\n      store.commit(\"setMessages\", []);\n      store.commit(\"setContacts\", []);\n      this._id = \"\";\n      this.name = \"\";\n      this.isArchive = false;\n    }\n  }\n};","map":{"version":3,"names":["axios","swal","store","data","_id","name","message","page","receiver","btnLoadMoreClass","hasMoreMessages","selectedMessageId","selectedMessageText","password","searchContact","computed","contacts","getters","getContacts","messages","getMessages","methods","onSearchKeyPress","event","key","doSearchContact","onSearchKeyUp","showContactOptions","menu","document","getElementById","style","display","left","pageX","top","pageY","copyMessage","navigator","clipboard","writeText","showMoreOptions","msg","isMyMessage","target","getAttribute","querySelector","className","bookmarkBy","attachEventListeners","self","addEventListener","e","moreOptions","querySelectorAll","isClickedMoreOptions","a","length","contains","getChatPersonPicture","user","picture","$apiURL","getPicture","formData","FormData","append","response","post","headers","$headers","status","commit","fire","doSearch","form","email","getMessageTime","time","dateObj","Date","timeStr","getDate","$months","getMonth","getFullYear","getHours","getMinutes","getSeconds","loadMore","getData","sendMessage","messageObject","deleteContact","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","isDeleting","contactsArr","splice","totalMessages","onChatSelected","getChat","mounted","watch","$route","to","from","isArchive"],"sources":["D:\\2023\\2023_PTUDW\\chat-station-mevn-free\\chat-station-mevn-free\\web\\src\\components\\HomeComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container-fluid\" id=\"home-page\" style=\"padding-top: 50px; padding-bottom: 50px;\">\r\n        <div class=\"row\" style=\"margin-bottom: 50px;\">\r\n            <div class=\"offset-md-10 col-md-2\">\r\n                <router-link class=\"btn btn-primary\" to=\"/contacts/add\">Add Contact</router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"container-fluid h-100\">\r\n            <div class=\"row justify-content-center h-100\">\r\n                <div class=\"col-md-4 col-xl-3 chat\"><div class=\"card mb-sm-3 mb-md-0 contacts_card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"input-group\">\r\n                            <input type=\"text\" placeholder=\"Search...\" class=\"form-control search\" v-model=\"searchContact\" v-on:keypress=\"onSearchKeyPress\" v-on:keyup=\"onSearchKeyUp\" />\r\n                            <div class=\"input-group-prepend\">\r\n                                <span class=\"input-group-text search_btn\"><i class=\"fa fa-search\" v-on:click=\"doSearchContact\"></i></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body contacts_body\">\r\n                        <ul class=\"contacts\">\r\n                            <li v-for=\"contact in contacts\" v-bind:key=\"contact._id\" v-bind:class=\"contact._id == _id ? 'active' : ''\">\r\n                                <div class=\"d-flex bd-highlight\">\r\n                                    <div class=\"user_info\">\r\n                                        <span v-text=\"contact.name\" style=\"cursor: pointer;\" v-bind:data-id=\"contact._id\" v-bind:data-name=\"contact.name\" v-bind:data-is-archive=\"contact.isArchive\" v-on:click=\"onChatSelected\"></span>\r\n                                        <p v-if=\"(contact.unreadMessages > 0)\" v-text=\"' (' + contact.unreadMessages + ')'\" class=\"text-danger\"></p>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"card-footer\"></div>\r\n                </div></div>\r\n                <div class=\"col-md-8 col-xl-6 chat\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header msg_head\">\r\n                            <div class=\"d-flex bd-highlight\">\r\n                                <div class=\"user_info\">\r\n                                    <span>Chat with <span v-text=\"name\"></span></span>\r\n                                    <p><span v-text=\"totalMessages\" style=\"font-size: 10px; color: rgba(255,255,255,0.6);\"></span> Messages</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <span id=\"action_menu_btn\" class=\"more-options\" v-on:click=\"showContactOptions\"></span>\r\n                        </div>\r\n                        <div class=\"card-body msg_card_body\">\r\n\r\n                            <div v-for=\"msg in messages\" v-bind:key=\"msg._id\">\r\n\r\n                                <template v-if=\"user != null && user.email == msg.sender.email\">\r\n                                    <div class=\"d-flex justify-content-end mb-4\">\r\n                                        <div class=\"msg_cotainer_send\">\r\n                                            <template class=\"more-options\" v-on:click=\"showMoreOptions(msg)\" v-bind:is-my-message=\"true\">\r\n                                                <span v-text=\"msg.message\"></span>\r\n                                            </template>\r\n\r\n                                            <p class=\"msg_time message-data-time\" v-text=\"getMessageTime(msg.createdAt)\"></p>\r\n                                        </div>\r\n\r\n                                        <div class=\"img_cont_msg\">\r\n                                            <img v-bind:src=\"getPicture(msg.sender)\" class=\"rounded-circle user_img_msg\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n\r\n                                <template v-else>\r\n                                    <div class=\"d-flex justify-content-start mb-4\">\r\n                                        <div class=\"img_cont_msg\">\r\n                                            <img v-bind:src=\"getPicture(msg.sender)\" class=\"rounded-circle user_img_msg\" />\r\n                                        </div>\r\n\r\n                                        <div class=\"msg_cotainer\">\r\n                                            <template class=\"more-options\" v-on:click=\"showMoreOptions(msg)\" v-bind:is-my-message=\"false\">\r\n                                                <span v-text=\"msg.message\"></span>\r\n                                            </template>\r\n\r\n                                            <p class=\"msg_time message-data-time\" v-text=\"getMessageTime(msg.createdAt)\"></p>\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer\">\r\n                            <div class=\"input-group\">\r\n                                <textarea v-model=\"message\" class=\"form-control type_msg\" placeholder=\"Type your message...\"></textarea>\r\n                                <div class=\"input-group-append\">\r\n                                    <span class=\"input-group-text send_btn\"><i class=\"fa fa-location-arrow\" v-on:click=\"sendMessage\"></i></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"contextMenuContactOptions\" class=\"context-menu\" style=\"display: none\"> \r\n        <ul class=\"menu\">\r\n            <li><a href=\"javascript:void(0)\" v-on:click=\"deleteContact\"><i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete</a></li>\r\n        </ul>\r\n    </div>\r\n\r\n    <div id=\"contextMenu\" class=\"context-menu\" style=\"display: none\"> \r\n        <ul class=\"menu\">\r\n            <li class=\"copy\"><a href=\"javascript:void(0)\" v-on:click=\"copyMessage\"><i class=\"fa fa-copy\" aria-hidden=\"true\"></i> Copy</a></li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from \"axios\"\r\n    import swal from \"sweetalert2\"\r\n    import store from \"../vuex/store\"\r\n\r\n    import \"../../public/assets/css/chat.css\"\r\n    \r\n    export default {\r\n\r\n        data() {\r\n            return {\r\n                _id: \"\",\r\n                name: \"\",\r\n                message: \"\",\r\n                page: 0,\r\n                receiver: null,\r\n                btnLoadMoreClass: \"fa fa-repeat\",\r\n                hasMoreMessages: true,\r\n                selectedMessageId: 0,\r\n                selectedMessageText: \"\",\r\n                password: \"\",\r\n                searchContact: \"\"\r\n            }\r\n        },\r\n\r\n        computed: {\r\n            contacts() {\r\n                return store.getters.getContacts\r\n            },\r\n\r\n            messages() {\r\n                return store.getters.getMessages\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            onSearchKeyPress: function () {\r\n                if (event.key == \"Enter\") {\r\n                    this.doSearchContact()\r\n                }\r\n            },\r\n\r\n            onSearchKeyUp: function () {\r\n                this.doSearchContact()\r\n            },\r\n            \r\n            showContactOptions: function () {\r\n                var menu = document.getElementById(\"contextMenuContactOptions\")\r\n                menu.style.display = 'block'\r\n                menu.style.left = event.pageX + \"px\"\r\n                menu.style.top = event.pageY + \"px\"\r\n            },\r\n\r\n            copyMessage: function() {\r\n                navigator.clipboard.writeText(this.selectedMessageText)\r\n            },\r\n\r\n            showMoreOptions: function (msg) {\r\n                const isMyMessage = event.target.getAttribute(\"is-my-message\")\r\n                this.selectedMessageId = msg._id\r\n                this.selectedMessageText = msg.message\r\n                \r\n                var menu = document.getElementById(\"contextMenu\")\r\n                menu.style.display = 'block'\r\n                if (isMyMessage == \"true\") {\r\n                    menu.style.left = (event.pageX - 200) + \"px\"\r\n                } else {\r\n                    menu.style.left = event.pageX + \"px\"\r\n                }\r\n                menu.style.top = event.pageY + \"px\"\r\n\r\n                document.querySelector(\".bookmark i\").className = \"fa fa-bookmark-o\"\r\n\r\n                if (msg.bookmarkBy) {\r\n                    document.querySelector(\".bookmark i\").className = \"fa fa-bookmark\"\r\n                }\r\n            },\r\n\r\n            attachEventListeners: function() {\r\n                const self = this\r\n\r\n                document.addEventListener('click', function(e) {\r\n                    const moreOptions = document.querySelectorAll(\".more-options\")\r\n                    let isClickedMoreOptions = true\r\n                    for (let a = 0; a < moreOptions.length; a++) {\r\n                        if (moreOptions[a].contains(e.target)) {\r\n                            // Clicked in box\r\n                            isClickedMoreOptions = true\r\n                            break\r\n                        } else {\r\n                            // Clicked outside the box\r\n                            isClickedMoreOptions = false\r\n                        }\r\n                    }\r\n                    if (!isClickedMoreOptions) {\r\n                        document.getElementById(\"contextMenu\").style.display = \"none\"\r\n                        document.getElementById(\"contextMenuContactOptions\").style.display = \"none\"\r\n                    }\r\n                })\r\n            },\r\n\r\n            getChatPersonPicture: function (user) {\r\n                if (typeof user.picture !== \"undefined\" && user.picture != \"\") {\r\n                    return this.$apiURL + \"/\" + user.picture\r\n                }\r\n                return \"../../assets/img/avatar2.png\"\r\n            },\r\n\r\n            getPicture: function (user) {\r\n                if (typeof user.picture !== \"undefined\") {\r\n                    return this.$apiURL + \"/\" + user.picture\r\n                }\r\n                return \"../../assets/img/avatar7.png\"\r\n            },\r\n\r\n            doSearchContact: async function () {\r\n                const formData = new FormData()\r\n                formData.append(\"searchContact\", this.searchContact)\r\n                \r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/contact/search\",\r\n                    formData,\r\n                    {\r\n                        headers: this.$headers\r\n                    }\r\n                )\r\n\r\n                if (response.data.status == \"success\") {\r\n                    store.commit(\"setContacts\", response.data.data)\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n            },\r\n\r\n            doSearch: async function () {\r\n                const form = event.target\r\n                const formData = new FormData(form)\r\n                formData.append(\"email\", this.email)\r\n                formData.append(\"password\", this.password)\r\n                \r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/chat/search\",\r\n                    formData,\r\n                    {\r\n                        headers: this.$headers\r\n                    }\r\n                )\r\n\r\n                if (response.data.status == \"success\") {\r\n                    store.commit(\"setMessages\", [])\r\n                    for (let a = 0; a < response.data.data.length; a++) {\r\n                        store.commit(\"prependMessage\", response.data.data[a])\r\n                    }\r\n                    this.attachEventListeners()\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n            },\r\n\r\n            getMessageTime: function (time) {\r\n                const dateObj = new Date(time)\r\n                let timeStr = dateObj.getDate() + \" \" + this.$months[dateObj.getMonth()] + \", \" + dateObj.getFullYear() + \" \" + dateObj.getHours() + \":\" + dateObj.getMinutes() + \":\" + dateObj.getSeconds()\r\n                return timeStr\r\n            },\r\n\r\n            loadMore: function () {\r\n                this.btnLoadMoreClass = \"fa fa-spinner fa-spin\"\r\n                this.page++\r\n                this.getData()\r\n            },\r\n            \r\n            sendMessage: async function () {\r\n\r\n                const formData = new FormData()\r\n                formData.append(\"_id\", this._id)\r\n                formData.append(\"message\", this.message)\r\n                formData.append(\"password\", this.password)\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/chat/send\",\r\n                    formData,\r\n                    {\r\n                        headers: this.$headers\r\n                    }\r\n                )\r\n\r\n                if (response.data.status == \"success\") {\r\n                    this.message = \"\"\r\n\r\n                    store.commit(\"appendMessage\", response.data.messageObject)\r\n                    this.attachEventListeners()\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n            },\r\n\r\n            deleteContact: async function () {\r\n                const self = this\r\n\r\n                swal.fire({\r\n                    title: 'Are you sure?',\r\n                    text: \"This will be removed from your contact\",\r\n                    icon: 'warning',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: 'Yes, delete it!'\r\n                }).then(async function(result) {\r\n                    if (result.isConfirmed) {\r\n\r\n                        self.isDeleting = true;\r\n                        const formData = new FormData()\r\n                        formData.append(\"_id\", self._id)\r\n\r\n                        const response = await axios.post(\r\n                            self.$apiURL + \"/contact/delete\",\r\n                            formData,\r\n                            {\r\n                                headers: self.$headers\r\n                            }\r\n                        )\r\n                        self.isDeleting = false\r\n\r\n                        if (response.data.status == \"success\") {\r\n                            swal.fire(\r\n                                'Deleted!',\r\n                                response.data.message,\r\n                                'success'\r\n                            );\r\n\r\n                            const contactsArr = self.contacts;\r\n                            for (let a = 0; a < contactsArr.length; a++) {\r\n                                if (contactsArr[a]._id == self._id) {\r\n                                    contactsArr.splice(a, 1);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            self.contacts = contactsArr\r\n\r\n                            store.commit(\"setMessages\", [])\r\n                            self.totalMessages = 0\r\n                            self.name = \"\"\r\n                            self._id = \"\"\r\n                        } else {\r\n                            swal.fire(\"Error\", response.data.message, \"error\");\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n\r\n            onChatSelected: function () {\r\n                const self = this\r\n                store.commit(\"setMessages\", [])\r\n                this._id = event.target.getAttribute(\"data-id\")\r\n                this.name = event.target.getAttribute(\"data-name\")\r\n\r\n                this.getChat()\r\n            },\r\n\r\n            getChat: async function () {\r\n                const self = this\r\n                \r\n                const formData = new FormData()\r\n                formData.append(\"_id\", this._id)\r\n                formData.append(\"page\", this.page)\r\n                formData.append(\"password\", this.password)\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/chat/fetch\",\r\n                    formData,\r\n                    {\r\n                        headers: this.$headers\r\n                    }\r\n                )\r\n\r\n                this.btnLoadMoreClass = \"fa fa-repeat\"\r\n\r\n                if (response.data.status == \"success\") {\r\n\r\n                    this.totalMessages = response.data.totalMessages\r\n\r\n                    for (let a = 0; a < response.data.messages.length; a++) {\r\n                        store.commit(\"prependMessage\", response.data.messages[a])\r\n                    }\r\n                    this.hasMoreMessages = (response.data.messages.length == 0) ? false : true\r\n                    this.receiver = response.data.receiver\r\n                    this.user = response.data.user\r\n                    this.attachEventListeners()\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\")\r\n                }\r\n            },\r\n\r\n            getData: async function () {\r\n                const self = this\r\n\r\n                const response = await axios.post(\r\n                    this.$apiURL + \"/contact/fetch\",\r\n                    null,\r\n                    {\r\n                        headers: this.$headers\r\n                    }\r\n                )\r\n\r\n                if (response.data.status == \"success\") {\r\n                    store.commit(\"setContacts\", response.data.contacts)\r\n                } else {\r\n                    swal.fire(\"Error\", response.data.message, \"error\");\r\n                }\r\n            }\r\n        },\r\n\r\n        mounted: function () {\r\n            this.getData()\r\n        },\r\n\r\n        watch: {\r\n            $route: function (to, from) {\r\n                store.commit(\"setMessages\", [])\r\n                store.commit(\"setContacts\", [])\r\n                this._id = \"\"\r\n                this.name = \"\"\r\n                this.isArchive = false\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    #home-page {\r\n            height: 100%;\r\n            margin: 0;\r\n            background: #7F7FD5;\r\n           background: -webkit-linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5);\r\n            background: linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5);\r\n        }\r\n\r\n        .chat{\r\n            margin-top: auto;\r\n            margin-bottom: auto;\r\n        }\r\n        .card{\r\n            height: 500px;\r\n            border-radius: 15px !important;\r\n            background-color: rgba(0,0,0,0.4) !important;\r\n        }\r\n        .contacts_body{\r\n            padding:  0.75rem 0 !important;\r\n            overflow-y: auto;\r\n            white-space: nowrap;\r\n        }\r\n        .msg_card_body{\r\n            overflow-y: auto;\r\n        }\r\n        .card-header{\r\n            border-radius: 15px 15px 0 0 !important;\r\n            border-bottom: 0 !important;\r\n        }\r\n     .card-footer{\r\n        border-radius: 0 0 15px 15px !important;\r\n            border-top: 0 !important;\r\n            background-color: transparent !important;\r\n    }\r\n        .container{\r\n            align-content: center;\r\n        }\r\n        .search{\r\n            border-radius: 15px 0 0 15px !important;\r\n            background-color: rgba(0,0,0,0.3) !important;\r\n            border:0 !important;\r\n            color:white !important;\r\n        }\r\n        .search:focus{\r\n             box-shadow:none !important;\r\n           outline:0px !important;\r\n        }\r\n        .type_msg{\r\n            background-color: rgba(0,0,0,0.3) !important;\r\n            border:0 !important;\r\n            color:white !important;\r\n            height: 60px !important;\r\n            overflow-y: auto;\r\n        }\r\n            .type_msg:focus{\r\n             box-shadow:none !important;\r\n           outline:0px !important;\r\n        }\r\n        .attach_btn{\r\n    border-radius: 15px 0 0 15px !important;\r\n    background-color: rgba(0,0,0,0.3) !important;\r\n            border:0 !important;\r\n            color: white !important;\r\n            cursor: pointer;\r\n        }\r\n        .send_btn{\r\n    border-radius: 0 15px 15px 0 !important;\r\n    background-color: rgba(0,0,0,0.3) !important;\r\n            border:0 !important;\r\n            color: white !important;\r\n            cursor: pointer;\r\n        }\r\n        .search_btn{\r\n            border-radius: 0 15px 15px 0 !important;\r\n            background-color: rgba(0,0,0,0.3) !important;\r\n            border:0 !important;\r\n            color: white !important;\r\n            cursor: pointer;\r\n        }\r\n        .contacts{\r\n            list-style: none;\r\n            padding: 0;\r\n        }\r\n        .contacts li{\r\n            width: 100% !important;\r\n            padding: 5px 10px;\r\n            margin-bottom: 15px !important;\r\n        }\r\n    .active{\r\n            background-color: rgba(0,0,0,0.3);\r\n    }\r\n        .user_img{\r\n            height: 70px;\r\n            width: 70px;\r\n            border:1.5px solid #f5f6fa;\r\n        \r\n        }\r\n        .user_img_msg{\r\n            height: 40px;\r\n            width: 40px;\r\n            border:1.5px solid #f5f6fa;\r\n        \r\n        }\r\n    .img_cont{\r\n            position: relative;\r\n            height: 70px;\r\n            width: 70px;\r\n    }\r\n    .img_cont_msg{\r\n            height: 40px;\r\n            width: 40px;\r\n    }\r\n    .online_icon{\r\n        position: absolute;\r\n        height: 15px;\r\n        width:15px;\r\n        background-color: #4cd137;\r\n        border-radius: 50%;\r\n        bottom: 0.2em;\r\n        right: 0.4em;\r\n        border:1.5px solid white;\r\n    }\r\n    .offline{\r\n        background-color: #c23616 !important;\r\n    }\r\n    .user_info{\r\n        margin-top: auto;\r\n        margin-bottom: auto;\r\n        margin-left: 15px;\r\n    }\r\n    .user_info span{\r\n        font-size: 20px;\r\n        color: white;\r\n    }\r\n    .user_info p{\r\n    font-size: 10px;\r\n    color: rgba(255,255,255,0.6);\r\n    }\r\n    .video_cam{\r\n        margin-left: 50px;\r\n        margin-top: 5px;\r\n    }\r\n    .video_cam span{\r\n        color: white;\r\n        font-size: 20px;\r\n        cursor: pointer;\r\n        margin-right: 20px;\r\n    }\r\n    .msg_cotainer{\r\n        margin-top: auto;\r\n        margin-bottom: auto;\r\n        margin-left: 10px;\r\n        border-radius: 25px;\r\n        background-color: #82ccdd;\r\n        padding: 10px;\r\n        position: relative;\r\n    }\r\n    .msg_cotainer_send{\r\n        margin-top: auto;\r\n        margin-bottom: auto;\r\n        margin-right: 10px;\r\n        border-radius: 25px;\r\n        background-color: #78e08f;\r\n        padding: 10px;\r\n        position: relative;\r\n    }\r\n    .msg_time{\r\n        /*position: absolute;\r\n        left: 0;\r\n        bottom: -15px;\r\n        color: rgba(255,255,255,0.5);*/\r\n        font-size: 10px;\r\n        margin-bottom: 0px;\r\n        margin-top: 10px;\r\n    }\r\n    .msg_time_send{\r\n        position: absolute;\r\n        right:0;\r\n        bottom: -15px;\r\n        color: rgba(255,255,255,0.5);\r\n        font-size: 10px;\r\n    }\r\n    .msg_head{\r\n        position: relative;\r\n    }\r\n    #action_menu_btn{\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 10px;\r\n        color: white;\r\n        cursor: pointer;\r\n        font-size: 20px;\r\n    }\r\n    .action_menu{\r\n        z-index: 1;\r\n        position: absolute;\r\n        padding: 15px 0;\r\n        background-color: rgba(0,0,0,0.5);\r\n        color: white;\r\n        border-radius: 15px;\r\n        top: 30px;\r\n        right: 15px;\r\n        display: none;\r\n    }\r\n    .action_menu ul{\r\n        list-style: none;\r\n        padding: 0;\r\n    margin: 0;\r\n    }\r\n    .action_menu ul li{\r\n        width: 100%;\r\n        padding: 10px 15px;\r\n        margin-bottom: 5px;\r\n    }\r\n    .action_menu ul li i{\r\n        padding-right: 10px;\r\n    \r\n    }\r\n    .action_menu ul li:hover{\r\n        cursor: pointer;\r\n        background-color: rgba(0,0,0,0.2);\r\n    }\r\n    @media(max-width: 576px){\r\n    .contacts_card{\r\n        margin-bottom: 15px !important;\r\n    }\r\n    }\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}