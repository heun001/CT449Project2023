{"ast":null,"code":"import \"../../public/assets/css/chat.css\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      message: \"\",\n      page: 0,\n      email: this.$route.params.email\n    };\n  },\n  methods: {\n    getData: async function () {\n      if (this.email == null) {\n        return;\n      }\n      const formData = new FormData();\n      formData.append(\"email\", this.email);\n      formData.append(\"page\", this.page);\n      const response = await axios.post(this.$apiURL + \"/chat/fetch\", formData, {\n        headers: this.$headers\n      });\n      console.log(response);\n      if (response.data.status == \"success\") {\n        //\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    },\n    sendMessage: async function () {\n      const formData = new FormData();\n      formData.append(\"email\", this.email);\n      formData.append(\"message\", this.message);\n      const response = await axios.post(this.$apiURL + \"/chat/send\", formData, {\n        headers: this.$headers\n      });\n      console.log(response);\n      if (response.data.status == \"success\") {\n        this.message = \"\";\n      } else {\n        swal.fire(\"Error\", response.data.message, \"error\");\n      }\n    }\n  },\n  mounted() {\n    this.getData();\n  }\n};","map":{"version":3,"names":["axios","swal","data","message","page","email","$route","params","methods","getData","formData","FormData","append","response","post","$apiURL","headers","$headers","console","log","status","fire","sendMessage","mounted"],"sources":["D:\\2023\\2023_PTUDW\\chat-station-mevn-free\\chat-station-mevn-free\\web\\src\\components\\ChatComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-lg-12\">\r\n                <div class=\"card chat-app\">\r\n                    <div class=\"chat\">\r\n                        <div class=\"chat-header clearfix\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-lg-6\">\r\n                                    <a href=\"javascript:void(0);\" data-toggle=\"modal\" data-target=\"#view_info\">\r\n                                        <img src=\"https://bootdey.com/img/Content/avatar/avatar2.png\" alt=\"avatar\">\r\n                                    </a>\r\n\r\n                                    <div class=\"chat-about\">\r\n                                        <!-- receiver name goes here -->\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-lg-6 hidden-sm text-right text-white\">\r\n                                    <!-- attachment goes here -->\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"chat-history\">\r\n                            <ul class=\"m-b-0\">\r\n                                <!-- all messages gone here -->\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div class=\"chat-message clearfix\">\r\n                            <div class=\"input-group mb-0\">\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter text here...\"\r\n                                        v-model=\"message\" />\r\n                                    <button class=\"btn btn-primary\" v-on:click=\"sendMessage\" type=\"button\">Send</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n \r\n<script>\r\n\r\nimport \"../../public/assets/css/chat.css\"\r\nimport axios from \"axios\"\r\nimport swal from \"sweetalert2\"\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            message: \"\",\r\n            page: 0,\r\n            email: this.$route.params.email,\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        getData: async function () {\r\n            if (this.email == null) {\r\n                return\r\n            }\r\n\r\n            const formData = new FormData()\r\n            formData.append(\"email\", this.email)\r\n            formData.append(\"page\", this.page)\r\n\r\n            const response = await axios.post(\r\n                this.$apiURL + \"/chat/fetch\",\r\n                formData,\r\n                {\r\n                    headers: this.$headers\r\n                }\r\n            )\r\n            console.log(response)\r\n\r\n            if (response.data.status == \"success\") {\r\n                //\r\n            } else {\r\n                swal.fire(\"Error\", response.data.message, \"error\")\r\n            }\r\n        },\r\n\r\n        sendMessage: async function () {\r\n\r\n            const formData = new FormData()\r\n            formData.append(\"email\", this.email)\r\n            formData.append(\"message\", this.message)\r\n\r\n            const response = await axios.post(\r\n                this.$apiURL + \"/chat/send\",\r\n                formData,\r\n                {\r\n                    headers: this.$headers\r\n                }\r\n            )\r\n            console.log(response)\r\n\r\n            if (response.data.status == \"success\") {\r\n                this.message = \"\"\r\n            } else {\r\n                swal.fire(\"Error\", response.data.message, \"error\")\r\n            }\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getData()\r\n    }\r\n}\r\n</script>"],"mappings":"AAgDA,OAAO,kCAAiC;AACxC,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAE7B,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,OAAO,EAAE,EAAE;MACXC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF;IAC9B;EACJ,CAAC;EACDG,OAAO,EAAE;IAELC,OAAO,EAAE,eAAAA,CAAA,EAAkB;MACvB,IAAI,IAAI,CAACJ,KAAI,IAAK,IAAI,EAAE;QACpB;MACJ;MAEA,MAAMK,QAAO,GAAI,IAAIC,QAAQ,CAAC;MAC9BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACP,KAAK;MACnCK,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACR,IAAI;MAEjC,MAAMS,QAAO,GAAI,MAAMb,KAAK,CAACc,IAAI,CAC7B,IAAI,CAACC,OAAM,GAAI,aAAa,EAC5BL,QAAQ,EACR;QACIM,OAAO,EAAE,IAAI,CAACC;MAClB,CACJ;MACAC,OAAO,CAACC,GAAG,CAACN,QAAQ;MAEpB,IAAIA,QAAQ,CAACX,IAAI,CAACkB,MAAK,IAAK,SAAS,EAAE;QACnC;MAAA,CACJ,MAAO;QACHnB,IAAI,CAACoB,IAAI,CAAC,OAAO,EAAER,QAAQ,CAACX,IAAI,CAACC,OAAO,EAAE,OAAO;MACrD;IACJ,CAAC;IAEDmB,WAAW,EAAE,eAAAA,CAAA,EAAkB;MAE3B,MAAMZ,QAAO,GAAI,IAAIC,QAAQ,CAAC;MAC9BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACP,KAAK;MACnCK,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAACT,OAAO;MAEvC,MAAMU,QAAO,GAAI,MAAMb,KAAK,CAACc,IAAI,CAC7B,IAAI,CAACC,OAAM,GAAI,YAAY,EAC3BL,QAAQ,EACR;QACIM,OAAO,EAAE,IAAI,CAACC;MAClB,CACJ;MACAC,OAAO,CAACC,GAAG,CAACN,QAAQ;MAEpB,IAAIA,QAAQ,CAACX,IAAI,CAACkB,MAAK,IAAK,SAAS,EAAE;QACnC,IAAI,CAACjB,OAAM,GAAI,EAAC;MACpB,OAAO;QACHF,IAAI,CAACoB,IAAI,CAAC,OAAO,EAAER,QAAQ,CAACX,IAAI,CAACC,OAAO,EAAE,OAAO;MACrD;IACJ;EACJ,CAAC;EACDoB,OAAOA,CAAA,EAAG;IACN,IAAI,CAACd,OAAO,CAAC;EACjB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}