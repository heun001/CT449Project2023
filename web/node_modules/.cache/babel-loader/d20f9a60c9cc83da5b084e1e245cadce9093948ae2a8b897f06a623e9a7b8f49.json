{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      login: false,\n      user: null\n    };\n  },\n  methods: {\n    getUser: async function () {\n      const self = this;\n\n      // check if user is logged in\n      if (localStorage.getItem(this.$accessTokenKey)) {\n        const response = await axios.post(this.$apiURL + \"/getUser\", null, {\n          headers: this.$headers\n        });\n        if (response.data.status == \"success\") {\n          // user is logged in\n          this.$user = response.data.user;\n          console.log(this.$user);\n        } else {\n          // user is logged out\n          localStorage.removeItem(this.$accessTokenKey);\n        }\n        this.login = localStorage.getItem(this.$accessTokenKey) != null;\n      } else {\n        this.login = false;\n      }\n      global.user = this.user;\n    }\n  },\n  mounted: function () {\n    this.getUser();\n  }\n};","map":{"version":3,"names":["axios","swal","data","login","user","methods","getUser","self","localStorage","getItem","$accessTokenKey","response","post","$apiURL","headers","$headers","status","$user","console","log","removeItem","global","mounted"],"sources":["D:\\2023\\2023_PTUDW\\chat-station-mevn-free\\chat-station-mevn-free\\web\\src\\components\\layouts\\AppHeader.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary\" style=\"margin-bottom: 50px;\">\n        <div class=\"container-fluid\">\n\n            <router-link class=\"navbar-brand\" to=\"/\">\n                Chat Station\n            </router-link>\n\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarColor01\"\n                aria-controls=\"navbarColor01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n\n            <div class=\"collapse navbar-collapse\" id=\"navbarColor01\">\n                <ul class=\"navbar-nav me-auto\">\n                    <li class=\"nav-item\">\n                        <router-link class=\"nav-link active\" to=\"/\">\n                            Home\n                            <span class=\"visually-hidden\">(current)</span>\n                        </router-link>\n                    </li>\n\n                    <li class=\"nav-item\" v-if=\"!login\">\n                        <router-link class=\"nav-link\" to=\"/login\">Login</router-link>\n                    </li>\n\n                    <li class=\"nav-item\" v-if=\"!login\">\n                        <router-link class=\"nav-link\" to=\"/register\">Register</router-link>\n                    </li>\n\n                    <li class=\"nav-item dropdown\" v-if=\"login\">\n                        <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\"\n                            data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"></a>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                    <li><a class=\"dropdown-item\" href=\"javascript:void(0);\">Logout</a></li>\n            </div>\n            </li>\n            </ul>\n\n            <form class=\"d-flex\">\n                <input class=\"form-control me-sm-2\" type=\"text\" v-model=\"query\" placeholder=\"Search\">\n                <button class=\"btn btn-secondary my-2 my-sm-0\" type=\"submit\">Search</button>\n            </form>\n        </div>\n        </div>\n    </nav>\n</template>\n \n<script>\n\nimport axios from \"axios\"\nimport swal from \"sweetalert2\"\n\nexport default {\n    data() {\n        return {\n            login: false,\n            user: null\n        }\n    },\n\n    methods: {\n\n        getUser: async function () {\n            const self = this\n\n            // check if user is logged in\n            if (localStorage.getItem(this.$accessTokenKey)) {\n                const response = await axios.post(\n                    this.$apiURL + \"/getUser\",\n                    null,\n                    {\n                        headers: this.$headers\n                    }\n                )\n\n                if (response.data.status == \"success\") {\n                    // user is logged in\n                    this.$user = response.data.user\n                    console.log(this.$user)\n                } else {\n                    // user is logged out\n                    localStorage.removeItem(this.$accessTokenKey);\n                }\n\n                this.login = (localStorage.getItem(this.$accessTokenKey) != null);\n            } else {\n                this.login = false;\n            }\n\n            global.user = this.user\n        },\n    },\n\n    mounted: function () {\n        this.getUser();\n    }\n}\n</script>"],"mappings":"AAkDA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,IAAG,MAAO,aAAY;AAE7B,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,KAAK;MACZC,IAAI,EAAE;IACV;EACJ,CAAC;EAEDC,OAAO,EAAE;IAELC,OAAO,EAAE,eAAAA,CAAA,EAAkB;MACvB,MAAMC,IAAG,GAAI,IAAG;;MAEhB;MACA,IAAIC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,eAAe,CAAC,EAAE;QAC5C,MAAMC,QAAO,GAAI,MAAMX,KAAK,CAACY,IAAI,CAC7B,IAAI,CAACC,OAAM,GAAI,UAAU,EACzB,IAAI,EACJ;UACIC,OAAO,EAAE,IAAI,CAACC;QAClB,CACJ;QAEA,IAAIJ,QAAQ,CAACT,IAAI,CAACc,MAAK,IAAK,SAAS,EAAE;UACnC;UACA,IAAI,CAACC,KAAI,GAAIN,QAAQ,CAACT,IAAI,CAACE,IAAG;UAC9Bc,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,KAAK;QAC1B,OAAO;UACH;UACAT,YAAY,CAACY,UAAU,CAAC,IAAI,CAACV,eAAe,CAAC;QACjD;QAEA,IAAI,CAACP,KAAI,GAAKK,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,eAAe,KAAK,IAAK;MACrE,OAAO;QACH,IAAI,CAACP,KAAI,GAAI,KAAK;MACtB;MAEAkB,MAAM,CAACjB,IAAG,GAAI,IAAI,CAACA,IAAG;IAC1B;EACJ,CAAC;EAEDkB,OAAO,EAAE,SAAAA,CAAA,EAAY;IACjB,IAAI,CAAChB,OAAO,CAAC,CAAC;EAClB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}